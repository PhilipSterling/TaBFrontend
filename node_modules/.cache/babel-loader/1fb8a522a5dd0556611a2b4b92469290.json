{"ast":null,"code":"var _jsxFileName = \"/Users/philipsterling/flatiron/Mod4/Week-11/TaBTypeRacer/tab-type-racer-front-end/src/containers/GameContainer.js\";\nimport React from \"react\";\nimport Nav from './Nav';\nimport \"../css/gamecontainer.css\";\n\nclass GameContainer extends React.Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      this.setState({\n        startedGame: false\n      });\n    };\n\n    this.handleChange = e => {\n      let percentage = this.state.percentage;\n      let input = e.target.value;\n      let index = input.length - 1;\n\n      if (this.state.allWords[0] !== undefined) {\n        if (index !== -1) {\n          if (input != \"\") {\n            if (this.state.allWords[0].charAt(index) != input.charAt(input.length - 1) && input != this.state.allWords[0] + \" \") {\n              if (!this.state.wordFlag) {\n                this.setState({\n                  errorNumber: ++this.state.errorNumber,\n                  wordFlag: true\n                });\n              }\n            }\n          }\n        }\n\n        if (input == this.state.allWords[0] + \" \") {\n          this.state.allWords.shift();\n          percentage = Math.floor((this.state.numAllWords - this.state.allWords.length) / this.state.numAllWords * 104);\n          console.log(percentage);\n          this.setState({\n            allWords: this.state.allWords,\n            wordFlag: false\n          });\n          input = \"\";\n          index = -1;\n        }\n\n        if (this.state.allWords[0] !== undefined) {\n          this.setState({\n            input,\n            index,\n            characAt: this.state.allWords[0].charAt(index),\n            percentage\n          });\n        }\n      } else if (this.state.allWords.length == 0) {\n        this.finishGame();\n      }\n    };\n\n    this.finishGame = () => {\n      this.setState({\n        input: \"\",\n        startedGame: false\n      });\n      fetch(\"http://localhost/7777/games/\".concat(this.state.game_id), {\n        method: 'PATCH',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \".concat(localStorage.getItem('jwt'))\n        },\n        body: JSON.stringify({\n          endtime: Date.now()\n        })\n      }).then(res => res.json()).then(data => {\n        fetch(\"http://localhost/7777/games/\".concat(this.state.game_id), {\n          method: 'PATCH',\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: \"Bearer \".concat(localStorage.getItem('jwt'))\n          },\n          body: JSON.stringify({})\n        });\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n    };\n\n    this.handleStartGame = () => {\n      fetch('http://localhost:7777/challenges/random', {\n        method: 'GET',\n        headers: {\n          Authorization: \"Bearer \".concat(localStorage.getItem('jwt')),\n          categoryheader: this.state.chosenCategory\n        }\n      }).then(res => res.json()).then(data => {\n        this.setState({\n          challengeID: data.id,\n          challengeCategory: data.category,\n          challenge: data.paragraph,\n          allWords: data.paragraph.split(\" \"),\n          numAllWords: data.paragraph.split(\" \").length,\n          startedGame: true\n        });\n      });\n    };\n\n    this.handleCategoryChange = e => {\n      this.setState({\n        chosenCategory: e.target.value\n      }); //render paragraph based on the selected category, default paragraphs from all category\n    };\n\n    this.state = {\n      challengeID: '',\n      challengeCategory: '',\n      challenge: '',\n      input: '',\n      index: null,\n      characAt: \"\",\n      allWords: [],\n      numAllWords: 0,\n      game_id: undefined,\n      percentage: 0,\n      errorNumber: 0,\n      wordFlag: false,\n      finished: false,\n      chosenCategory: \"all\",\n      startedGame: false\n    };\n  }\n\n  render() {\n    //percentage finished of the paragraph\n    const width = this.state.percentage - 7 + \"%\";\n    return React.createElement(\"div\", {\n      id: \"newgame-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      user: this.props.location.state.user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"newgame-container2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"category-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Category: \"), React.createElement(\"select\", {\n      className: \"category\",\n      onChange: this.handleCategoryChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"all\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"All\"), React.createElement(\"option\", {\n      value: \"dracula\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Dracula\"), React.createElement(\"option\", {\n      value: \"peterpan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Peter Pan\")), React.createElement(\"button\", {\n      className: \"start-button\",\n      onClick: this.handleStartGame,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Start\")), this.state.startedGame ? React.createElement(\"div\", {\n      className: \"newgame-container3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"percentage-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"avatar-image\",\n      style: {\n        marginLeft: width\n      },\n      src: this.props.location.state.user.avatar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    })), React.createElement(\"form\", {\n      className: \"inputcontainer\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, this.state.challenge), React.createElement(\"input\", {\n      className: \"typeinput\",\n      type: \"text\",\n      onChange: this.handleChange,\n      value: this.state.input,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }))) : null), React.createElement(\"div\", {\n      style: {\n        visibility: this.state.finished ? \"visible\" : \"hidden\"\n      },\n      className: \"popup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"goodjob\",\n      src: \"https://media.giphy.com/media/3o7abGQa0aRJUurpII/giphy.gif\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Good Job! \", this.props.location.state.user.username), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"You speed is:\")));\n  }\n\n}\n\nexport default GameContainer;","map":{"version":3,"sources":["/Users/philipsterling/flatiron/Mod4/Week-11/TaBTypeRacer/tab-type-racer-front-end/src/containers/GameContainer.js"],"names":["React","Nav","GameContainer","Component","constructor","componentDidMount","setState","startedGame","handleChange","e","percentage","state","input","target","value","index","length","allWords","undefined","charAt","wordFlag","errorNumber","shift","Math","floor","numAllWords","console","log","characAt","finishGame","fetch","game_id","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","endtime","Date","now","then","res","json","data","handleSubmit","preventDefault","handleStartGame","categoryheader","chosenCategory","challengeID","id","challengeCategory","category","challenge","paragraph","split","handleCategoryChange","finished","render","width","props","location","user","marginLeft","avatar","visibility","username"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Nav from './Nav';\nimport \"../css/gamecontainer.css\";\n\nclass GameContainer extends React.Component {\n  constructor () {\n    super()\n    this.state={\n      challengeID: '',\n      challengeCategory: '',\n      challenge: '',\n      input: '',\n      index: null,\n      characAt: \"\",\n\n      allWords: [],\n      numAllWords: 0,\n      game_id: undefined,\n      percentage: 0,\n      errorNumber: 0,\n      wordFlag: false,\n      finished: false,\n      chosenCategory: \"all\",\n      startedGame: false,\n    }\n  }\n\n  componentDidMount = () => {\n    this.setState({startedGame:false})\n  }\n\n\n  handleChange = (e) => {\n    let percentage = this.state.percentage\n    let input = e.target.value\n    let index = input.length -1\n    if(this.state.allWords[0] !==  undefined){\n    if(index !== -1){\n      if(input != \"\"){\n        if(this.state.allWords[0].charAt(index) != input.charAt(input.length-1) && input != this.state.allWords[0] + \" \") {\n          if(!this.state.wordFlag){\n          this.setState({errorNumber: ++this.state.errorNumber,\n          wordFlag: true})}\n        }\n      }\n    }\n    if(input == this.state.allWords[0] + \" \"){\n      this.state.allWords.shift()\n      percentage = Math.floor(((this.state.numAllWords - this.state.allWords.length) / this.state.numAllWords) * 104)\n      console.log(percentage)\n      this.setState({allWords: this.state.allWords,\n        wordFlag: false,\n      })\n      input = \"\"\n      index = -1 \n    }\n    if(this.state.allWords[0] !== undefined){\n    this.setState({\n      input,\n      index,\n      characAt: this.state.allWords[0].charAt(index),\n      percentage\n    })\n  }\n    } else if(this.state.allWords.length == 0){\n      this.finishGame()\n    }\n  }\n\n  finishGame = () => {\n    this.setState({input: \"\", startedGame: false})\n    fetch(`http://localhost/7777/games/${this.state.game_id}`, {\n      method: 'PATCH',\n      headers: {\"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${localStorage.getItem('jwt')}`\n    },\n    body: JSON.stringify({\n      endtime: Date.now(),\n    })\n    })\n    .then(res => res.json())\n    .then(data => {\n      fetch(`http://localhost/7777/games/${this.state.game_id}`, {\n        method: 'PATCH',\n        headers: {\"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem('jwt')}`},\n        body: JSON.stringify({\n        })\n      })\n    })\n  }\n\n\n  handleSubmit = (e) => {\n    e.preventDefault()\n  }\n\n  handleStartGame = () => {\n    fetch('http://localhost:7777/challenges/random', {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('jwt')}`,\n        categoryheader: this.state.chosenCategory\n      }\n    })\n    .then(res => res.json())\n    .then(data => {this.setState({\n      challengeID: data.id,\n      challengeCategory: data.category,\n      challenge: data.paragraph,\n      allWords: data.paragraph.split(\" \"),\n      numAllWords: data.paragraph.split(\" \").length,\n      startedGame: true\n    })\n  })\n  }\n\n  handleCategoryChange = (e) => {\n    this.setState({chosenCategory: e.target.value})\n    //render paragraph based on the selected category, default paragraphs from all category\n  }\n\n  render() {\n    //percentage finished of the paragraph\n    const width = (this.state.percentage - 7) + \"%\";\n    return (\n      <div id=\"newgame-container\">\n        <Nav user={this.props.location.state.user} />\n\n        <div className=\"newgame-container2\">\n\n          <div className=\"category-container\">\n            <label>Category: </label>\n            <select\n              className=\"category\"\n              onChange={this.handleCategoryChange}\n            >\n              <option value=\"all\">All</option>\n              <option value=\"dracula\">Dracula</option>\n              <option value=\"peterpan\">Peter Pan</option>\n            </select>\n            <button className=\"start-button\" onClick={this.handleStartGame}>Start</button>\n          </div>\n          {this.state.startedGame ? \n          <div className=\"newgame-container3\">\n          <div className=\"percentage-container\">\n            <img\n              className=\"avatar-image\"\n              style={{ marginLeft: width }}\n              src={this.props.location.state.user.avatar}\n            />\n          </div>\n          <form className=\"inputcontainer\" onSubmit={this.handleSubmit}>\n            {<p>{this.state.challenge}</p> }\n            <input\n              className=\"typeinput\"\n              type=\"text\"\n              onChange={this.handleChange}\n              value={this.state.input}\n            />\n          </form>\n        </div>  : null}\n          \n        </div>\n\n        {/*pop up component */}\n        <div\n          style={{\n            visibility: this.state.finished ? \"visible\" : \"hidden\"\n          }}\n          className=\"popup\"\n        >\n          <img className=\"goodjob\" src=\"https://media.giphy.com/media/3o7abGQa0aRJUurpII/giphy.gif\" />\n          <h3>Good Job! {this.props.location.state.user.username}</h3>\n          <h3>You speed is:</h3>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default GameContainer;\n"]},"metadata":{},"sourceType":"module"}
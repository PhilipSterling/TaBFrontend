{"ast":null,"code":"var _jsxFileName = \"/Users/philipsterling/flatiron/Mod4/Week-11/TaBTypeRacer/tab-type-racer-front-end/src/components/Signup.js\";\nimport React from 'react';\nimport '../css/signup.css';\nimport { Link } from \"react-router-dom\";\n\nclass Signup extends React.Component {\n  constructor() {\n    super();\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const name = e.target.name.value;\n      const password = e.target.password.value;\n      fetch(\"http://localhost:7777/users\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          username: name,\n          password: password,\n          avatar: this.state.avatar\n        })\n      }).then(resp => resp.json()).then(data => {\n        if (data.error != undefined) {\n          this.setState({\n            userAlreadyExists: true\n          });\n        } else {\n          localStorage.setItem('jwt', data.jwt);\n          this.props.history.push({\n            pathname: \"/game\",\n            state: {\n              user: data.user\n            }\n          });\n        }\n      });\n    };\n\n    this.handleAvatarClick = e => {\n      const avatar = e.target.src;\n\n      if (e.target.className === \"avatar\") {\n        this.setState({\n          avatar: avatar,\n          addClassName: !this.state.addClassName\n        });\n      }\n    };\n\n    this.state = {\n      userAlreadyExists: false,\n      avatar: 'https://www.itsfun.com.tw/cacheimg/fd/75/fba384a3d3aeb2f641545f3eaec0.jpg',\n      addClassName: true\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"signup-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, this.state.userAlreadyExists ? React.createElement(\"p\", {\n      className: \"signup-error\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"user name already exist\") : null, React.createElement(\"form\", {\n      id: \"signup-form\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"input-box\",\n      type: \"text\",\n      name: \"name\",\n      placeholder: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"input-box\",\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Choose Avatar:\"), React.createElement(\"div\", {\n      id: \"avatar-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: this.state.addClassName ? \"avatar add\" : \"avatar\",\n      src: \"https://www.itsfun.com.tw/cacheimg/fd/75/fba384a3d3aeb2f641545f3eaec0.jpg\",\n      onClick: this.handleAvatarClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      className: !this.state.addClassName ? \"avatar add\" : \"avatar\",\n      src: \"https://s3-eu-west-1.amazonaws.com/thinglink/avatars/Ah/4efc1uQX8o2dFdrALBv4sDDfzR9YFmDRWJnEZ1xmXmAh.jpeg\",\n      onClick: this.handleAvatarClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      id: \"button\",\n      className: \"input-box\",\n      type: \"submit\",\n      value: \"Sign Up\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), React.createElement(Link, {\n      className: \"link\",\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"back to login?\")));\n  }\n\n}\n\nexport default Signup;","map":{"version":3,"sources":["/Users/philipsterling/flatiron/Mod4/Week-11/TaBTypeRacer/tab-type-racer-front-end/src/components/Signup.js"],"names":["React","Link","Signup","Component","constructor","handleSubmit","e","preventDefault","name","target","value","password","fetch","method","headers","Accept","body","JSON","stringify","username","avatar","state","then","resp","json","data","error","undefined","setState","userAlreadyExists","localStorage","setItem","jwt","props","history","push","pathname","user","handleAvatarClick","src","className","addClassName","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../css/signup.css';\nimport { Link } from \"react-router-dom\";\n\n\nclass Signup extends React.Component {\n  constructor () {\n    super()\n    this.state={\n      userAlreadyExists: false,\n      avatar: 'https://www.itsfun.com.tw/cacheimg/fd/75/fba384a3d3aeb2f641545f3eaec0.jpg',\n      addClassName: true\n    }\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const name = e.target.name.value;\n    const password = e.target.password.value;\n    fetch(\"http://localhost:7777/users\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({ \n        username: name,\n        password: password,\n        avatar: this.state.avatar\n      })\n    }).then(resp => resp.json())\n      .then(data => {\n        if(data.error != undefined) {\n          this.setState({userAlreadyExists:true})\n        } else {\n          localStorage.setItem('jwt', data.jwt)\n          this.props.history.push({\n            pathname: \"/game\",\n            state: { user: data.user }\n          });\n        }\n      })\n  }\n\n  handleAvatarClick = (e) => {\n    const avatar = e.target.src;\n    if (e.target.className === \"avatar\") {\n      this.setState({\n        avatar: avatar,\n        addClassName: !this.state.addClassName\n      })\n    }\n  }\n\n  render () {\n    return (\n      <div className=\"signup-container\">\n        <div id=\"signup\">\n          {this.state.userAlreadyExists ? <p className=\"signup-error\" >user name already exist</p> : null}\n          <form id=\"signup-form\" onSubmit={this.handleSubmit}>\n            <input\n              className=\"input-box\"\n              type=\"text\"\n              name=\"name\"\n              placeholder=\"name\"\n            />\n            <br />\n            <input\n              className=\"input-box\"\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"password\"\n            />\n            <br />\n            <label>Choose Avatar:</label>\n            <div id=\"avatar-container\">\n              <img\n                className={this.state.addClassName? \"avatar add\" : \"avatar\"}\n                src=\"https://www.itsfun.com.tw/cacheimg/fd/75/fba384a3d3aeb2f641545f3eaec0.jpg\"\n                onClick={this.handleAvatarClick}\n              />\n              <img\n                className={!this.state.addClassName? \"avatar add\" : \"avatar\"}\n                src=\"https://s3-eu-west-1.amazonaws.com/thinglink/avatars/Ah/4efc1uQX8o2dFdrALBv4sDDfzR9YFmDRWJnEZ1xmXmAh.jpeg\"\n                onClick={this.handleAvatarClick}\n              />\n            </div>\n            <br />\n            <input\n              id=\"button\"\n              className=\"input-box\"\n              type=\"submit\"\n              value=\"Sign Up\"\n            />\n          </form>\n          <Link className=\"link\" to='/login'>back to login?</Link>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Signup;"]},"metadata":{},"sourceType":"module"}